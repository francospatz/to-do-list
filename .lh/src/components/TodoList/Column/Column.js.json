{
    "sourceFile": "src/components/TodoList/Column/Column.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 9,
            "patches": [
                {
                    "date": 1714051284101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1714051909051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n   const tabs = [\"All\", \"In progress\", \"Complete\"];\n \n   // Component rendering\n   return (\n-    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple from-50% to-lighter to-90% rounded rounded-2xl\">\n+    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/60 from-50% to-lighter to-90% rounded rounded-2xl\">\n       <div className=\"flex items-center justify-between rounded-3xl\">\n         <motion.h3\n           initial={{\n             opacity: 0,\n"
                },
                {
                    "date": 1714051917637,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n   const tabs = [\"All\", \"In progress\", \"Complete\"];\n \n   // Component rendering\n   return (\n-    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/60 from-50% to-lighter to-90% rounded rounded-2xl\">\n+    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/80 from-50% to-lighter to-90% rounded rounded-2xl\">\n       <div className=\"flex items-center justify-between rounded-3xl\">\n         <motion.h3\n           initial={{\n             opacity: 0,\n"
                },
                {
                    "date": 1714051923265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n   const tabs = [\"All\", \"In progress\", \"Complete\"];\n \n   // Component rendering\n   return (\n-    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/80 from-50% to-lighter to-90% rounded rounded-2xl\">\n+    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/80 from-50% to-lighter/80 to-90% rounded rounded-2xl\">\n       <div className=\"flex items-center justify-between rounded-3xl\">\n         <motion.h3\n           initial={{\n             opacity: 0,\n"
                },
                {
                    "date": 1714051931402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n   const tabs = [\"All\", \"In progress\", \"Complete\"];\n \n   // Component rendering\n   return (\n-    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/80 from-50% to-lighter/80 to-90% rounded rounded-2xl\">\n+    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/90 from-50% to-lighter/90 to-90% rounded rounded-2xl\">\n       <div className=\"flex items-center justify-between rounded-3xl\">\n         <motion.h3\n           initial={{\n             opacity: 0,\n"
                },
                {
                    "date": 1714051941402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n   const tabs = [\"All\", \"In progress\", \"Complete\"];\n \n   // Component rendering\n   return (\n-    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/90 from-50% to-lighter/90 to-90% rounded rounded-2xl\">\n+    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/90 from-50% to-lighter to-90% rounded rounded-2xl\">\n       <div className=\"flex items-center justify-between rounded-3xl\">\n         <motion.h3\n           initial={{\n             opacity: 0,\n"
                },
                {
                    "date": 1714052593292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n \n     const before = element.dataset.before || \"-1\"; // Get the identifier for the position to drop the card\n \n     if (before !== cardId) {\n-      \n+\n       let copyJSON = localStorage.getItem(\"cards\");\n       let copy = JSON.parse(copyJSON);\n \n       let cardToTransfer = copy.find((c) => c.id === cardId);\n"
                },
                {
                    "date": 1714052598897,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n   const tabs = [\"All\", \"In progress\", \"Complete\"];\n \n   // Component rendering\n   return (\n-    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/90 from-50% to-lighter to-90% rounded rounded-2xl\">\n+    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/80 from-50% to-lighter to-90% rounded rounded-2xl\">\n       <div className=\"flex items-center justify-between rounded-3xl\">\n         <motion.h3\n           initial={{\n             opacity: 0,\n"
                },
                {
                    "date": 1714053840774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n   const tabs = [\"All\", \"In progress\", \"Complete\"];\n \n   // Component rendering\n   return (\n-    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/70 from-50% to-lighter to-90% rounded rounded-2xl\">\n+    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10  bg-gradient-to-b from-purple/70 from-50% to-lighter to-90% rounded rounded-2xl\">\n       <div className=\"flex items-center justify-between rounded-3xl\">\n         <motion.h3\n           initial={{\n             opacity: 0,\n"
                },
                {
                    "date": 1714053849580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n   const tabs = [\"All\", \"In progress\", \"Complete\"];\n \n   // Component rendering\n   return (\n-    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/70 from-50% to-lighter to-90% rounded rounded-2xl\">\n+    <div className=\"w-full h-auto md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple/70 from-50% to-lighter to-90% rounded rounded-2xl\">\n       <div className=\"flex items-center justify-between rounded-3xl\">\n         <motion.h3\n           initial={{\n             opacity: 0,\n"
                }
            ],
            "date": 1714051284101,
            "name": "Commit-0",
            "content": "// Importing necessary React modules and component dependencies\nimport React, { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport Card from \"../Card\";\nimport Filter from \"../Filter\";\nimport AddCard from \"../AddCard\";\nimport DropIndicator from \"../DropIndicator\";\n\n// The Column component manages a collection of cards, handling their interactions and display.\nconst Column = ({ title, cards, column, setCards }) => {\n  const [active, setActive] = useState(false); // State to manage if the column is active during a drag operation\n  const [selectedTab, setSelectedTab] = useState('All'); // State for the currently selected filter tab\n  const [filtered, setFiltered] = useState('All'); // State for the applied filter type\n  const [cardsShown, setCardsShown] = useState([]); // State to store the currently displayed cards based on the filter\n\n  // Handles the beginning of a drag operation, setting up the data transfer\n  const handleDragStart = (e, card) => {\n    e.dataTransfer.setData(\"cardId\", card.id);\n  };\n\n  // Handles the drop event in the column, updating the cards based on the drop location\n  const handleDragEnd = (e) => {\n    const cardId = e.dataTransfer.getData(\"cardId\");\n\n    setActive(false); // Deactivate column highlighting\n    clearHighlights(); // Clear any visual indicators for drop locations\n\n    const indicators = getIndicators();\n    const { element } = getNearestIndicator(e, indicators);\n\n    const before = element.dataset.before || \"-1\"; // Get the identifier for the position to drop the card\n\n    if (before !== cardId) {\n      \n      let copyJSON = localStorage.getItem(\"cards\");\n      let copy = JSON.parse(copyJSON);\n\n      let cardToTransfer = copy.find((c) => c.id === cardId);\n      if (!cardToTransfer) return;\n      cardToTransfer = { ...cardToTransfer, column };\n\n      copy = copy.filter((c) => c.id !== cardId);\n\n      const moveToBack = before === \"-1\"; // If dropping at the end\n\n      if (moveToBack) {\n        copy.push(cardToTransfer);\n      } else {\n        const insertAtIndex = copy.findIndex((el) => el.id === before);\n        if (insertAtIndex === undefined) return;\n\n        copy.splice(insertAtIndex, 0, cardToTransfer);\n      }\n\n      setCards(copy);\n      localStorage.setItem(\"cards\", JSON.stringify(copy))\n    }\n  };\n\n  // Handles the drag over event to display a highlight at potential drop locations\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    highlightIndicator(e);\n\n    setActive(true);\n  };\n\n  // Clear all highlight effects from drop indicators\n  const clearHighlights = (els) => {\n    const indicators = els || getIndicators();\n\n    indicators.forEach((i) => {\n      i.style.opacity = \"0\";\n    });\n  };\n\n  // Apply highlight effects to the closest drop indicator\n  const highlightIndicator = (e) => {\n    const indicators = getIndicators();\n\n    clearHighlights(indicators);\n\n    const el = getNearestIndicator(e, indicators);\n\n    el.element.style.opacity = \"1\";\n  };\n\n  // Find the nearest indicator to the cursor during a drag event\n  const getNearestIndicator = (e, indicators) => {\n    const DISTANCE_OFFSET = 50; // Offset to fine-tune the proximity calculations\n    const el = indicators.reduce(\n      (closest, child) => {\n        const box = child.getBoundingClientRect();\n\n        const offset = e.clientY - (box.top + DISTANCE_OFFSET);\n\n        if (offset < 0 && offset > closest.offset) {\n          return { offset: offset, element: child };\n        } else {\n          return closest;\n        }\n      },\n      {\n        offset: Number.NEGATIVE_INFINITY,\n        element: indicators[indicators.length - 1],\n      }\n    );\n\n    return el;\n  };\n\n  // Retrieves all drop indicators within the column\n  const getIndicators = () => {\n    return Array.from(document.querySelectorAll(`[data-column=\"${column}\"]`));\n  };\n\n  // Reset highlights and deactivate the column when dragging leaves its area\n  const handleDragLeave = () => {\n    clearHighlights();\n    setActive(false);\n  };\n\n  // Handle the deletion of a card\n  const handleDelete = (id) => {\n    const cardId = id;\n    setCards((pv) => pv.filter((c) => c.id !== cardId));\n    setActive(false);\n\n    const cardsJSON = localStorage.getItem('cards');\n    const oldCards = JSON.parse(cardsJSON);\n    const newCards = oldCards.filter((c) => c.id !== cardId);\n    localStorage.setItem('cards', JSON.stringify(newCards));\n  };\n\n  // Effect hook to filter and display cards based on the selected tab\n  useEffect(() => {\n    const filteredCards = cards.filter((c) => c.column === column);\n\n    if (filtered === \"All\") { // If the selected tab is \"All\", display all cards\n      setCardsShown(filteredCards.map((c) => {\n        return <Card key={c.id} {...c}\n          handleDragStart={handleDragStart}\n          handleDelete={handleDelete}\n          filter={\"all\"}\n          cards={cards}\n\n        />;\n      }))\n    } else if (filtered === \"In progress\") { // If the selected tab is \"In progress\", display cards with \"progress\" status\n      setCardsShown(filteredCards.map((c) => {\n        return <Card key={c.id} {...c}\n          handleDragStart={handleDragStart}\n          handleDelete={handleDelete}\n          filter={\"progress\"}\n          cards={cards}\n\n        />;\n      }))\n    } else if (filtered === \"Complete\") { // If the selected tab is \"Complete\", display cards with \"complete\" status\n      setCardsShown(filteredCards.map((c) => {\n        return <Card key={c.id} {...c}\n          handleDragStart={handleDragStart}\n          handleDelete={handleDelete}\n          filter={\"complete\"}\n          cards={cards}\n        />;\n      }))\n    }\n    // eslint-disable-next-line\n  }, [filtered, cards, column]);\n\n  //Filter tabs\n  const tabs = [\"All\", \"In progress\", \"Complete\"];\n\n  // Component rendering\n  return (\n    <div className=\"w-full md:w-2/3 mt-1 md:mt-2 py-1 md:py-3 px-4 md:px-10 shrink-0 bg-gradient-to-b from-purple from-50% to-lighter to-90% rounded rounded-2xl\">\n      <div className=\"flex items-center justify-between rounded-3xl\">\n        <motion.h3\n          initial={{\n            opacity: 0,\n          }}\n          animate={{\n            opacity: 1,\n            transition: {\n              duration: 1.6,\n              delay: 0.6,\n            },\n          }}\n          className=\"font-serif text-3xl md:text-4xl text-dark\">\n          {title}\n        </motion.h3>\n        <motion.span\n          initial={{\n            opacity: 0,\n            x: 10,\n          }}\n          animate={{\n            opacity: 1,\n            x: 0,\n            transition: {\n              duration: 1.6,\n              delay: 1.5,\n            },\n          }}\n          className=\"rounded text-lg font-bold font-serif text-dark\">\n          {cards.filter((c) => c.column === column).length}\n        </motion.span>\n\n      </div>\n      <Filter selectedTab={selectedTab} setSelectedTab={setSelectedTab} tabs={tabs} setFiltered={setFiltered} />\n      <motion.div\n        initial={{\n          opacity: 0,\n          x: -20,\n        }}\n        animate={{\n          opacity: 1,\n          x: 0,\n          transition: {\n            duration: 1.6,\n            delay: 1.2,\n          },\n        }}\n        onDrop={handleDragEnd}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        className={`h-full w-full transition-colors rounded`}\n      >\n        {cardsShown} {/* Prints all task cards */}\n        <DropIndicator beforeId={null} column={column} />\n        <AddCard column={column} setCards={setCards} cards={cards} />\n      </motion.div>\n    </div>\n  );\n};\n\n// Export the Column component as the default export\nexport default Column;"
        }
    ]
}